# Triangulates a matrix. The matrix should have not less columns than rows.function r = triangulate (m)  n = rows (m);  k = columns (m);  for c = 1 : n    assert (all(m(c, 1 : c - 1) == 0), "not eliminated correctly");    [w iw] = max(abs(m(c:n, c)));    m([c iw + c - 1], :) = m([iw + c - 1 c], :);    assert (m(c, c) != 0, "nonsingular matrix");    m(c, 1 : k) /= m(c, c);    assert (m(c, c) == 1);    for d = c + 1 : n      m(d, 1:k) -= m(c, 1:k) * m(d, c);      assert (all(m(d, 1:c) == 0));    endfor  endfor  r = m;endfunction%!assert (triangulate ([2, 2]) == [1, 1]);%!assert (triangulate ([2, 2, 4; 1, 2, 0]) == [1, 1, 2; 0, 1, -2]);%!assert (triangulate ([2, 4; -3, -9]) == [1, 3; 0, 1]);